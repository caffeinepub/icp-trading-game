{
  "kind": "build_request",
  "title": "Replace candlestick chart with line chart and integrate Kong Swap trading tools",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-47",
      "text": "Replace the candlestick chart in PriceChart component (frontend/src/components/PriceChart.tsx) with a simple line chart visualization using Kong Swap API price data",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "Use any tool you can get your hands on from Kong swap, v key using the API. Your displaying candle sticks incorrectly and I just think you'll be able to produce the line chart better"
        ]
      },
      "acceptanceCriteria": [
        "Candlestick chart is removed from PriceChart component",
        "Line chart displays ICP price over time for selected timeframe (24h, 7d, 30d, 90d, 180d)",
        "Chart uses Kong Swap API data fetched by useICPPriceData hook",
        "Chart maintains existing margin statistics overlay and liquidation price reference lines",
        "Price change indicators continue to function correctly"
      ]
    },
    {
      "id": "REQ-48",
      "text": "Update useICPPriceData hook (frontend/src/hooks/useICPPriceData.ts) to fetch simple price points from Kong Swap API instead of OHLC candlestick data for line chart visualization",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "Use any tool you can get your hands on from Kong swap, v key using the API",
          "I just think you'll be able to produce the line chart better"
        ]
      },
      "acceptanceCriteria": [
        "useICPPriceData hook fetches timestamp and price pairs from Kong Swap API",
        "Data structure is optimized for line chart rendering (no OHLC fields)",
        "getCurrentPrice function continues to work with Kong Swap API",
        "All existing timeframes (24h, 7d, 30d, 90d, 180d) are supported",
        "Fallback endpoints and error handling remain in place"
      ]
    },
    {
      "id": "REQ-49",
      "text": "Integrate all available trading tools and metrics from Kong Swap API into the frontend, including trading volume indicators, liquidity metrics, order book depth, and any technical analysis tools provided by Kong Swap",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "Use any tool you can get your hands on from Kong swap, v key using the API",
          "I need the tools that Kong swap has too"
        ]
      },
      "acceptanceCriteria": [
        "Trading volume data is fetched from Kong Swap API and displayed on the chart or in a separate panel",
        "Liquidity metrics from Kong Swap are integrated and visible to users",
        "Order book depth data (if available from Kong Swap API) is displayed",
        "Any technical indicators provided by Kong Swap API (moving averages, RSI, MACD, etc.) are integrated and displayed",
        "All Kong Swap tools are accessible and functional in the trading interface"
      ]
    }
  ],
  "constraints": [
    "Continue using Kong Swap API as the data source for ICP price information",
    "Maintain all existing margin statistics and liquidation price overlays on the chart",
    "Preserve all existing game mode functionality (24h, 7d, 30d, 1y) and trading operations",
    "Do not modify backend/main.mo unless Kong Swap integration requires backend changes",
    "Keep all existing hooks and components functional during the chart transition"
  ],
  "nonGoals": [
    "Reintroducing CoinGecko API integration",
    "Keeping candlestick chart visualization",
    "Adding custom technical indicators not provided by Kong Swap API",
    "Modifying leveraged trading logic or position management"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}